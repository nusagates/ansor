import{f as d,g as x,v as y,c as v,w as u,o as c,a,u as e,X as S,j as h,d as B,e as P,r as i}from"./app-211a5b60.js";import{_ as R}from"./GuestLayout-2ba91544.js";import{_ as U}from"./Toast.vue_vue_type_script_setup_true_lang-0df0ee19.js";import"./_plugin-vue_export-helper-c27b6911.js";const j=["onSubmit"],$={__name:"ResetPassword",props:{email:{type:String,required:!0},token:{type:String,required:!0}},setup(g){const p=g,f=d(),_=d(!1),t=d(!1);let l=x([]);const s=y({token:p.token,email:p.email,password:"",password_confirmation:""}),w=()=>{t.value=!0,axios.post(route("password.store"),s).then(n=>{_.value=!0,t.value=!1}).catch(n=>{l=n.response.data.errors,t.value=!1,f.value.show(n.response.data.message,"red")})};return(n,o)=>{const b=i("v-alert"),m=i("v-text-field"),k=i("v-btn"),V=i("v-sheet");return c(),v(R,null,{default:u(()=>[a(e(S),{title:"Reset Password"}),_.value?(c(),v(b,{key:0,text:"Reset sandi berhasil. Sesaat lagi Anda akan diarahkan ke halaman login.",color:"success"})):(c(),h("form",{key:1,onSubmit:P(w,["prevent"])},[a(m,{density:"compact",label:"Email",modelValue:e(s).email,"onUpdate:modelValue":o[0]||(o[0]=r=>e(s).email=r),"error-messages":e(l).email},null,8,["modelValue","error-messages"]),a(m,{density:"compact",label:"Sandi",modelValue:e(s).password,"onUpdate:modelValue":o[1]||(o[1]=r=>e(s).password=r),"max-errors":"2","error-messages":e(l).password},null,8,["modelValue","error-messages"]),a(m,{density:"compact",label:"Konfirmasi Sandi",modelValue:e(s).password_confirmation,"onUpdate:modelValue":o[2]||(o[2]=r=>e(s).password_confirmation=r),"error-messages":e(l).password_confirmation},null,8,["modelValue","error-messages"]),a(V,{class:"d-flex justify-end"},{default:u(()=>[a(k,{variant:"flat",type:"submit",color:"teal",disabled:t.value,loading:t.value},{default:u(()=>[B("Ganti Password")]),_:1},8,["disabled","loading"])]),_:1})],40,j)),a(U,{ref_key:"msg",ref:f},null,512)]),_:1})}}};export{$ as default};
